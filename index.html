<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>dolludy â€” Pastel Timer & Trackers</title>
  <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header class="top">
    <div class="brand">
      <div class="logo">ğŸŒ¸</div>
      <div>
        <h1>dolludy</h1>
        <p class="tag">study timers, self-care & trackers â€” pastel pink vibes</p>
      </div>
    </div>
    <nav>
      <button id="settingsMenuBtn" aria-label="settings">âš™ï¸</button>
      <button id="largeTextBtn" aria-label="large print mode" title="Large Print Mode">ğŸ”¤</button>
      <button id="themeSwitcherBtn" aria-label="theme switcher" title="Change Theme">ğŸ¨</button>
      <button id="themeToggle" aria-label="toggle theme">âœ¨</button>
      <button id="userProfileBtn" aria-label="user profile">ğŸ‘¤</button>
      <button id="roomsToggle" aria-label="study rooms" title="Study Rooms">ğŸ˜ï¸</button>
    </nav>
  </header>

  <!-- Theme Switcher Panel -->
  <div id="themeSwitcherPanel" class="theme-switcher-panel">
    <h3>ğŸ¨ Choose Your Vibe</h3>
    <div class="theme-options">
      <button class="theme-option" data-theme="pink" title="Pink (Default)">
        <span class="theme-swatch" style="background: #ffb6d5;"></span>
        <span>Blush Pink</span>
      </button>
      <button class="theme-option" data-theme="lavender" title="Lavender">
        <span class="theme-swatch" style="background: #d8bfd8;"></span>
        <span>Lavender</span>
      </button>
      <button class="theme-option" data-theme="mint" title="Mint">
        <span class="theme-swatch" style="background: #a0ead9;"></span>
        <span>Mint</span>
      </button>
    </div>
  </div>

  <!-- Study Rooms Panel -->
  <div id="roomsPanel" class="rooms-panel">
    <div class="rooms-header">
      <h2>ğŸ“š Study Rooms</h2>
      <button id="closeRoomsBtn" class="close-btn">âœ•</button>
    </div>

    <!-- User Identity Section -->
    <div class="rooms-section">
      <h3>ğŸ‘¤ Your Profile</h3>
      <input type="text" id="userNameInput" placeholder="Enter your name..." maxlength="30" class="user-input">
      <button id="setUserBtn" class="btn-primary">Set Name</button>
    </div>

    <!-- Create Room -->
    <div class="rooms-section">
      <h3>â• Create Study Room</h3>
      <input type="text" id="roomNameInput" placeholder="Room name (e.g., Math Study)..." maxlength="40" class="user-input">
      <button id="createRoomBtn" class="btn-primary">Create Room</button>
    </div>

    <!-- Join Room -->
    <div class="rooms-section">
      <h3>ğŸ”— Join Room</h3>
      <input type="text" id="inviteCodeInput" placeholder="Enter invite code..." maxlength="10" class="user-input">
      <button id="joinRoomBtn" class="btn-primary">Join</button>
    </div>

    <!-- Current Room -->
    <div id="currentRoomSection" class="rooms-section" style="display:none;">
      <h3>ğŸ  Current Room</h3>
      <div id="currentRoomInfo" class="current-room-info">
        <div id="currentRoomName" style="font-weight:600; margin-bottom:8px;"></div>
        <div id="inviteCodeDisplay" style="font-size:12px; color:#8a5169; margin-bottom:12px;"></div>
        <div id="membersInfo" style="margin-bottom:12px;"></div>
        <button id="leaveRoomBtn" class="btn-danger">Leave Room</button>
      </div>
    </div>

    <!-- Available Rooms List -->
    <div class="rooms-section">
      <h3>ğŸŒ Available Rooms</h3>
      <div id="roomsList" class="rooms-list">
        <!-- Populated by JS -->
      </div>
    </div>
  </div>

  <main class="grid">
    <section class="card">
      <h2>ğŸ… Pomodoro Task Timer</h2>
      
      <!-- Task Selection from List -->
      <div class="pomo-task-section">
        <label style="font-weight: 600; display: block; margin-bottom: 8px;">ğŸ“‹ Select Task:</label>
        <div id="pomodoroTaskList" class="pomo-task-list">
          <!-- Populated by JS -->
        </div>
        <div class="pomo-or-divider">or create new:</div>
        <div class="pomo-input-group">
          <input type="text" id="pomodoroTaskInput" placeholder="Quick task name..." maxlength="50" />
          <button id="pomodoroTaskBtn">âœ¨ Set</button>
        </div>
        <div id="pomodoroTaskDisplay" class="pomo-task-display">No task selected</div>
      </div>

      <!-- Session Type & Timer Display -->
      <div id="pomodoroSessionInfo" class="pomo-session-info">
        <span id="pomodoroPhase" class="pomo-phase-label">ğŸ¯ Work Session (25 min)</span>
        <div id="pomodoroSessionCount" class="pomo-session-count">Session 1</div>
      </div>

      <!-- Circle Timer Display -->
      <div class="timer-circle" id="timerCircle">
        <div class="timer-display">
          <div class="timer-time" id="studyDisplay">25:00</div>
          <div class="timer-label" id="timerLabel">Focus Time</div>
        </div>
      </div>

      <!-- Timer Controls -->
      <div class="controls">
        <button id="studyStart">â–¶ï¸ Start</button>
        <button id="studyPause">â¸ Pause</button>
        <button id="studyReset">â†» Reset</button>
      </div>


      <!-- Task Done & Break Button -->
      <div class="controls" style="margin-top: 8px;">
        <button id="pomodoroTaskDone" class="btn-success" style="flex: 1;">âœ“ Task Done</button>
      </div>

      <!-- Cat Display -->
      <div class="cat-container">
        <div class="pixel-cat studying" id="studyCat">
          <div class="pixel-grid">
            <!-- Head row 1 -->
            <div class="pixel ear-l"></div>
            <div class="pixel"></div>
            <div class="pixel"></div>
            <div class="pixel"></div>
            <div class="pixel ear-r"></div>
            
            <!-- Head row 2 -->
            <div class="pixel"></div>
            <div class="pixel head"></div>
            <div class="pixel head"></div>
            <div class="pixel head"></div>
            <div class="pixel"></div>
            
            <!-- Head row 3 -->
            <div class="pixel"></div>
            <div class="pixel head"></div>
            <div class="pixel eye-l"></div>
            <div class="pixel head"></div>
            <div class="pixel"></div>
            
            <!-- Head row 4 -->
            <div class="pixel"></div>
            <div class="pixel head"></div>
            <div class="pixel eye-r"></div>
            <div class="pixel head"></div>
            <div class="pixel"></div>
            
            <!-- Head row 5 -->
            <div class="pixel"></div>
            <div class="pixel head"></div>
            <div class="pixel mouth"></div>
            <div class="pixel head"></div>
            <div class="pixel"></div>
            
            <!-- Body row 1 -->
            <div class="pixel"></div>
            <div class="pixel body"></div>
            <div class="pixel body"></div>
            <div class="pixel body"></div>
            <div class="pixel"></div>
            
            <!-- Body row 2 -->
            <div class="pixel body"></div>
            <div class="pixel body"></div>
            <div class="pixel body"></div>
            <div class="pixel body"></div>
            <div class="pixel body"></div>
            
            <!-- Body row 3 -->
            <div class="pixel body"></div>
            <div class="pixel body"></div>
            <div class="pixel body"></div>
            <div class="pixel body"></div>
            <div class="pixel body"></div>
            
            <!-- Tail -->
            <div class="pixel"></div>
            <div class="pixel"></div>
            <div class="pixel tail"></div>
            <div class="pixel tail"></div>
            <div class="pixel tail"></div>
          </div>
        </div>
      </div>

      <!-- Pomodoro Progress -->
      <div id="pomodoroProgress" class="pomo-progress">
        <div class="pomo-stats">
          <div class="pomo-stat">
            <span class="pomo-stat-label">Sessions Today</span>
            <span id="pomodoroSessionsToday" class="pomo-stat-value">0</span>
          </div>
          <div class="pomo-stat">
            <span class="pomo-stat-label">Focus Time</span>
            <span id="pomodoroFocusTime" class="pomo-stat-value">0h</span>
          </div>
          <div class="pomo-stat">
            <span class="pomo-stat-label">Break Time</span>
            <span id="pomodoroBreakTime" class="pomo-stat-value">0m</span>
          </div>
        </div>
      </div>
    </section>

    <section class="card">
      <h2>Weekly Progress ğŸ“Š</h2>
      <div class="dashboard">
        <div class="progress-item">
          <div class="progress-header">
            <span class="progress-label">ğŸ“š Study Hours</span>
            <span class="progress-value" id="studyHours">0 hrs</span>
          </div>
          <div class="progress-bar-container">
            <div class="progress-bar" id="studyBar"><span class="bar-text">0%</span></div>
          </div>
          <small>Goal: 20 hours/week</small>
        </div>
        <div class="progress-item">
          <div class="progress-header">
            <span class="progress-label">âœ… Tasks Done</span>
            <span class="progress-value" id="tasksCount">0</span>
          </div>
          <div class="progress-circle-container">
            <div class="progress-circle" id="tasksCircle">
              <svg viewBox="0 0 100 100">
                <circle cx="50" cy="50" r="45" class="circle-bg"></circle>
                <circle cx="50" cy="50" r="45" class="circle-progress" id="tasksProgress"></circle>
                <text x="50" y="50" text-anchor="middle" dy="0.3em" id="tasksPercent">0%</text>
              </svg>
            </div>
          </div>
          <small>Goal: 15 tasks/week</small>
        </div>
        <div class="progress-item">
          <div class="progress-header">
            <span class="progress-label">ğŸ’§ Water</span>
            <span class="progress-value" id="waterGlasses">0/8</span>
          </div>
          <div class="progress-circle-container">
            <div class="progress-circle" id="waterCircle">
              <svg viewBox="0 0 100 100">
                <circle cx="50" cy="50" r="45" class="circle-bg"></circle>
                <circle cx="50" cy="50" r="45" class="circle-progress water-circle" id="waterProgress"></circle>
                <text x="50" y="50" text-anchor="middle" dy="0.3em" id="waterPercent">0%</text>
              </svg>
            </div>
          </div>
          <small>Goal: 8 glasses/day</small>
        </div>
      </div>
    </section>

    <section class="card">
      <h2>Self-Care Timers</h2>
      <div class="mini-grid">
        <div class="small-card">
          <div class="skincare-edit">
            <input type="text" id="skincareRoutine" class="routine-name" value="Timed Skincare" maxlength="30" />
            <div class="time-edit">
              <label>Minutes:</label>
              <input type="number" id="skincareMinutes" min="1" max="60" value="3" />
            </div>
          </div>
          <h3 id="skincareTitle">Timed Skincare</h3>
          <div class="small-timer" id="skincareDisplay">03:00</div>
          <div class="controls">
            <button id="startSkincare" class="startSmall" data-target="skincare">Start</button>
            <button id="skincareEditBtn" class="editBtn">âœï¸ Edit</button>
          </div>
        </div>
        <div class="small-card">
          <h3>Timed Sleep (Nap)</h3>
          <div class="small-timer" id="sleepDisplay">20:00</div>
          <div class="controls">
            <button data-t="1200" class="startSmall" data-target="sleep">Start 20m</button>
          </div>
        </div>
        <div class="small-card">
          <h3>Water Tracker</h3>
          <div class="water">
            <button id="waterDec">â–</button>
            <div id="waterCount">0</div>
            <button id="waterInc">â•</button>
          </div>
          <small>glasses today</small>
        </div>
        <div class="small-card">
          <h3>Workout Generator</h3>
          <div id="workoutOut">Quick full-body routine</div>
          <div class="controls">
            <button id="genWorkout">Generate âœ¨</button>
          </div>
        </div>
        <div class="small-card">
          <h3>Daily Streaks ğŸ”¥</h3>
          <div id="streaksList"></div>
        </div>
      </div>
    </section>

    <section class="card">
      <h2>Tasks & Assignments</h2>
      <form id="taskForm">
        <input id="taskText" placeholder="New task or assignment" />
        <input id="taskDue" type="date" />
        <button type="submit">Add</button>
      </form>
      <ul id="taskList" class="list"></ul>
    </section>

    <section class="card">
      <h2>Exam Prep Checklist ğŸŒŸ</h2>
      <div id="examPrepContainer" class="exam-prep-container">
        <!-- Subjects Section -->
        <div class="exam-section">
          <h3>ğŸ“š Subjects</h3>
          <div class="exam-items">
            <label class="exam-check"><input type="checkbox" class="exam-checkbox"> Complete syllabus breakdown</label>
            <label class="exam-check"><input type="checkbox" class="exam-checkbox"> Prioritize high-weight topics</label>
            <label class="exam-check"><input type="checkbox" class="exam-checkbox"> Color-code subjects</label>
          </div>
        </div>

        <!-- Resources Section -->
        <div class="exam-section">
          <h3>ğŸ“– Resources</h3>
          <div class="exam-items">
            <label class="exam-check"><input type="checkbox" class="exam-checkbox"> Gather textbooks and notes</label>
            <label class="exam-check"><input type="checkbox" class="exam-checkbox"> Download PDFs and guides</label>
            <label class="exam-check"><input type="checkbox" class="exam-checkbox"> Bookmark online resources</label>
          </div>
        </div>

        <!-- Practice Section -->
        <div class="exam-section">
          <h3>âœï¸ Practice</h3>
          <div class="exam-items">
            <label class="exam-check"><input type="checkbox" class="exam-checkbox"> Solve daily practice questions</label>
            <label class="exam-check"><input type="checkbox" class="exam-checkbox"> Attempt mock tests</label>
            <label class="exam-check"><input type="checkbox" class="exam-checkbox"> Review past year papers</label>
          </div>
        </div>

        <!-- Revision Section -->
        <div class="exam-section">
          <h3>ğŸ”„ Revision</h3>
          <div class="exam-items">
            <label class="exam-check"><input type="checkbox" class="exam-checkbox"> Schedule weekly reviews</label>
            <label class="exam-check"><input type="checkbox" class="exam-checkbox"> Create flashcards</label>
            <label class="exam-check"><input type="checkbox" class="exam-checkbox"> Focus on weak areas</label>
          </div>
        </div>

        <!-- Schedule Section -->
        <div class="exam-section">
          <h3>ğŸ“… Schedule</h3>
          <div class="exam-items">
            <label class="exam-check"><input type="checkbox" class="exam-checkbox"> Build a daily timetable</label>
            <label class="exam-check"><input type="checkbox" class="exam-checkbox"> Use Pomodoro blocks</label>
            <label class="exam-check"><input type="checkbox" class="exam-checkbox"> Track countdown to exam</label>
          </div>
        </div>

        <!-- Self-Care Section -->
        <div class="exam-section">
          <h3>ğŸ’š Self-Care</h3>
          <div class="exam-items">
            <label class="exam-check"><input type="checkbox" class="exam-checkbox"> Maintain sleep routine</label>
            <label class="exam-check"><input type="checkbox" class="exam-checkbox"> Include breaks & hobbies</label>
            <label class="exam-check"><input type="checkbox" class="exam-checkbox"> Eat balanced meals</label>
          </div>
        </div>

        <!-- Motivation Section -->
        <div class="exam-section">
          <h3>â­ Motivation</h3>
          <div class="exam-items">
            <label class="exam-check"><input type="checkbox" class="exam-checkbox"> Add daily affirmations</label>
            <label class="exam-check"><input type="checkbox" class="exam-checkbox"> Celebrate milestones</label>
            <label class="exam-check"><input type="checkbox" class="exam-checkbox"> Track progress visually</label>
          </div>
        </div>
      </div>

      <div class="exam-actions" style="margin-top: 16px; display: flex; gap: 8px;">
        <button id="resetExamChecklistBtn" class="btn-secondary" style="flex: 1;">Reset All</button>
        <button id="showExamProgressBtn" class="btn-primary" style="flex: 1;">Show Progress</button>
      </div>
      <div id="examProgress" style="margin-top: 12px; padding: 12px; background: rgba(255,182,213,0.15); border-radius: 8px; text-align: center; display: none;">
        <strong id="examProgressText">0% Complete</strong>
        <div style="margin-top: 8px; height: 8px; background: rgba(255,182,213,0.3); border-radius: 4px; overflow: hidden;">
          <div id="examProgressBar" style="height: 100%; background: #ff6b9d; width: 0%; transition: width 0.3s ease;"></div>
        </div>
      </div>
    </section>
  </main>

  <footer class="foot">Made with pastel vibes â€¢ stay glowing âœ¨</footer>

  <!-- Login Modal -->
  <div id="loginModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Welcome to Beauty Study ğŸŒ¸</h2>
        <button class="modal-close" id="closeLoginModal">&times;</button>
      </div>
      <div class="modal-tabs">
        <button class="modal-tab-btn active" data-tab="login">Login</button>
        <button class="modal-tab-btn" data-tab="signup">Sign Up</button>
      </div>
      
      <!-- Login Tab -->
      <div class="modal-tab-content active" id="loginTab">
        <form id="loginForm">
          <div class="form-group">
            <label for="loginEmail">Email:</label>
            <input type="email" id="loginEmail" placeholder="your@email.com" required />
          </div>
          <div class="form-group">
            <label for="loginPassword">Password:</label>
            <input type="password" id="loginPassword" placeholder="Enter password" required />
          </div>
          <button type="submit" class="btn-primary">Login</button>
        </form>
      </div>

      <!-- Sign Up Tab -->
      <div class="modal-tab-content" id="signupTab">
        <form id="signupForm">
          <div class="form-group">
            <label for="signupName">Name:</label>
            <input type="text" id="signupName" placeholder="Your name" required />
          </div>
          <div class="form-group">
            <label for="signupEmail">Email:</label>
            <input type="email" id="signupEmail" placeholder="your@email.com" required />
          </div>
          <div class="form-group">
            <label for="signupPassword">Password:</label>
            <input type="password" id="signupPassword" placeholder="Create password" required />
          </div>
          <div class="form-group">
            <label for="signupGoal">Study Goal (hours/week):</label>
            <input type="number" id="signupGoal" placeholder="20" min="1" max="100" value="20" />
          </div>
          <button type="submit" class="btn-primary">Sign Up</button>
        </form>
      </div>
    </div>
  </div>

  <!-- Settings Modal -->
  <div id="settingsModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Settings âš™ï¸</h2>
        <button class="modal-close" id="closeSettingsModal">&times;</button>
      </div>

      <div class="settings-section">
        <h3>â±ï¸ Pomodoro Settings</h3>
        <div class="form-group">
          <label for="workDuration">Work Duration (minutes):</label>
          <input type="number" id="workDuration" min="1" max="60" value="30" />
        </div>
        <div class="form-group">
          <label for="breakDuration">Break Duration (minutes):</label>
          <input type="number" id="breakDuration" min="1" max="30" value="5" />
        </div>
        <div class="form-group">
          <label for="longBreakDuration">Long Break (minutes):</label>
          <input type="number" id="longBreakDuration" min="1" max="60" value="30" />
        </div>
      </div>

      <div class="settings-section">
        <h3>ğŸ¯ Study Goals</h3>
        <div class="form-group">
          <label for="weeklyGoal">Weekly Study Goal (hours):</label>
          <input type="number" id="weeklyGoal" min="1" max="100" value="20" />
        </div>
        <div class="form-group">
          <label for="dailyTaskGoal">Daily Task Goal:</label>
          <input type="number" id="dailyTaskGoal" min="1" max="50" value="5" />
        </div>
      </div>

      <div class="settings-section">
        <h3>ğŸ¨ Theme & Display</h3>
        <div class="form-group">
          <label for="theme">Theme:</label>
          <select id="theme">
            <option value="light">Light (Default)</option>
            <option value="dark">Dark</option>
            <option value="pink">Extra Pink</option>
          </select>
        </div>
        <div class="form-group checkbox">
          <input type="checkbox" id="soundEnabled" checked />
          <label for="soundEnabled">Enable Sound Notifications</label>
        </div>
      </div>

      <div class="settings-section">
        <h3>ğŸ‘¤ Account</h3>
        <div class="account-info">
          <p>Logged in as: <strong id="currentUserDisplay">Guest</strong></p>
        </div>
        <button id="logoutBtn" class="btn-danger">Logout</button>
      </div>

      <div class="settings-section">
        <h3>ğŸ’¾ Data Management</h3>
        <p style="font-size:13px;color:#8a5169;margin-bottom:12px;">Export and backup your study data, or restore from a backup.</p>
        <button id="exportDataBtn" class="btn-secondary" style="width:100%;margin-bottom:8px;">ğŸ“¥ Export Data Backup</button>
        <button id="importDataBtn" class="btn-secondary" style="width:100%;">ğŸ“¤ Import Data Backup</button>
        <input type="file" id="importFileInput" accept=".json" style="display:none;" />
      </div>

      <div class="settings-actions">
        <button id="savSettingsBtn" class="btn-primary">Save Settings</button>
        <button id="resetSettingsBtn" class="btn-secondary">Reset to Defaults</button>
      </div>
    </div>
  </div>

  <!-- User Profile Modal -->
  <div id="profileModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Your Profile ğŸ‘¤</h2>
        <button class="modal-close" id="closeProfileModal">&times;</button>
      </div>

      <div class="profile-card">
        <div class="profile-avatar">ğŸ‘©â€ğŸ’»</div>
        <h3 id="profileName">Guest User</h3>
        <p id="profileEmail">Not logged in</p>
        
        <div class="profile-stats">
          <div class="profile-stat">
            <span class="stat-label">Total Sessions</span>
            <span class="stat-value" id="profileSessions">0</span>
          </div>
          <div class="profile-stat">
            <span class="stat-label">Total Focus Time</span>
            <span class="stat-value" id="profileFocusTime">0h</span>
          </div>
          <div class="profile-stat">
            <span class="stat-label">Tasks Completed</span>
            <span class="stat-value" id="profileTasksCompleted">0</span>
          </div>
        </div>

        <div class="profile-achievements">
          <h4>ğŸ† Achievements</h4>
          <div id="achievementsList"></div>
        </div>

        <button id="editProfileBtn" class="btn-primary">Edit Profile</button>
      </div>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>
